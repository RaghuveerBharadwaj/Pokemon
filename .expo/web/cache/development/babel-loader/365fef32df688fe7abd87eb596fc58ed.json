{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport axios from 'axios';\n\nvar getPokemons = function getPokemons(limit) {\n  return function (dispatch) {\n    return axios.get(\"https://pokeapi.co/api/v2/pokemon?offset=0&limit=\" + 999).then(function _callee2(res) {\n      var pokemons, dataStr, downloadAnchorNode;\n      return _regeneratorRuntime.async(function _callee2$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _context2.next = 2;\n              return _regeneratorRuntime.awrap(Promise.all(res.data.results.map(function _callee(poke) {\n                return _regeneratorRuntime.async(function _callee$(_context) {\n                  while (1) {\n                    switch (_context.prev = _context.next) {\n                      case 0:\n                        _context.next = 2;\n                        return _regeneratorRuntime.awrap(getPokemon(poke.url));\n\n                      case 2:\n                        return _context.abrupt(\"return\", _context.sent);\n\n                      case 3:\n                      case \"end\":\n                        return _context.stop();\n                    }\n                  }\n                }, null, null, null, Promise);\n              })));\n\n            case 2:\n              pokemons = _context2.sent;\n              console.log(pokemons);\n              dispatch({\n                type: \"GET_POKEMONS\",\n                pokemons: pokemons\n              });\n              dataStr = \"data:text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(pokemons));\n              downloadAnchorNode = document.createElement('a');\n              downloadAnchorNode.setAttribute(\"href\", dataStr);\n              downloadAnchorNode.setAttribute(\"download\", \"Pokemons.json\");\n              document.body.appendChild(downloadAnchorNode);\n              downloadAnchorNode.click();\n              downloadAnchorNode.remove();\n\n            case 12:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, null, null, null, Promise);\n    }).catch(function (err) {\n      if (err.response) {\n        alert(err.response.data.message);\n      }\n    });\n  };\n};\n\nvar getPokemon = function getPokemon(url) {\n  return axios.get(url).then(function (res) {\n    return res.data;\n  }).catch(function (err) {\n    if (err.response) {\n      alert(err.response.data.message);\n    }\n  });\n};\n\nexport { getPokemons, getPokemon };","map":{"version":3,"sources":["/home/cyclopz/Desktop/Cyclopz/My Personal Git/React-Native/Pokemon/redux/actions/pokeActions.ts"],"names":["axios","getPokemons","limit","dispatch","get","then","res","Promise","all","data","results","map","poke","getPokemon","url","pokemons","console","log","type","dataStr","encodeURIComponent","JSON","stringify","downloadAnchorNode","document","createElement","setAttribute","body","appendChild","click","remove","catch","err","response","alert","message"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;;AAGA,IAAMC,WAAW,GAAG,SAAdA,WAAc,CAACC,KAAD;AAAA,SAAmB,UAACC,QAAD,EAAwB;AAC7D,WACEH,KAAK,CACFI,GADH,uDAC2D,GAD3D,EAEGC,IAFH,CAEQ,kBAAOC,GAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,+CACmBC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACG,IAAJ,CAASC,OAAT,CAAiBC,GAAjB,CAAqB,iBAAOC,IAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yDAA2BC,UAAU,CAACD,IAAI,CAACE,GAAN,CAArC;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAArB,CAAZ,CADnB;;AAAA;AACEC,cAAAA,QADF;AAEJC,cAAAA,OAAO,CAACC,GAAR,CAAYF,QAAZ;AACAZ,cAAAA,QAAQ,CAAC;AACPe,gBAAAA,IAAI,EAAE,cADC;AAEPH,gBAAAA,QAAQ,EAAEA;AAFH,eAAD,CAAR;AAIII,cAAAA,OAPA,GAOU,kCAAkCC,kBAAkB,CAACC,IAAI,CAACC,SAAL,CAAeP,QAAf,CAAD,CAP9D;AAQAQ,cAAAA,kBARA,GAQqBC,QAAQ,CAACC,aAAT,CAAuB,GAAvB,CARrB;AASJF,cAAAA,kBAAkB,CAACG,YAAnB,CAAgC,MAAhC,EAA4CP,OAA5C;AACAI,cAAAA,kBAAkB,CAACG,YAAnB,CAAgC,UAAhC,EAA4C,eAA5C;AACAF,cAAAA,QAAQ,CAACG,IAAT,CAAcC,WAAd,CAA0BL,kBAA1B;AACAA,cAAAA,kBAAkB,CAACM,KAAnB;AACAN,cAAAA,kBAAkB,CAACO,MAAnB;;AAbI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAFR,EAiBGC,KAjBH,CAiBS,UAACC,GAAD,EAAc;AACnB,UAAIA,GAAG,CAACC,QAAR,EAAkB;AAChBC,QAAAA,KAAK,CAACF,GAAG,CAACC,QAAJ,CAAaxB,IAAb,CAAkB0B,OAAnB,CAAL;AACD;AACF,KArBH,CADF;AAwBD,GAzBmB;AAAA,CAApB;;AA2BA,IAAMtB,UAAU,GAAG,SAAbA,UAAa,CAACC,GAAD,EAAiB;AAClC,SACEd,KAAK,CACFI,GADH,CACOU,GADP,EAEGT,IAFH,CAEQ,UAACC,GAAD,EAAc;AAClB,WAAOA,GAAG,CAACG,IAAX;AACD,GAJH,EAKGsB,KALH,CAKS,UAACC,GAAD,EAAc;AACnB,QAAIA,GAAG,CAACC,QAAR,EAAkB;AAChBC,MAAAA,KAAK,CAACF,GAAG,CAACC,QAAJ,CAAaxB,IAAb,CAAkB0B,OAAnB,CAAL;AACD;AACF,GATH,CADF;AAYD,CAbD;;AAeA,SAASlC,WAAT,EAAsBY,UAAtB","sourcesContent":["import axios from 'axios'\nimport { Dispatch } from 'redux'\n\nconst getPokemons = (limit: number) => (dispatch: Dispatch) => {\n  return (\n    axios\n      .get(`https://pokeapi.co/api/v2/pokemon?offset=0&limit=${999}`)\n      .then(async (res: any) => {\n        const pokemons = await Promise.all(res.data.results.map(async (poke: any) => await getPokemon(poke.url)))\n        console.log(pokemons)\n        dispatch({\n          type: \"GET_POKEMONS\",\n          pokemons: pokemons\n        })\n        var dataStr = \"data:text/json;charset=utf-8,\" + encodeURIComponent(JSON.stringify(pokemons));\n        var downloadAnchorNode = document.createElement('a');\n        downloadAnchorNode.setAttribute(\"href\",     dataStr);\n        downloadAnchorNode.setAttribute(\"download\", \"Pokemons.json\");\n        document.body.appendChild(downloadAnchorNode); // required for firefox\n        downloadAnchorNode.click();\n        downloadAnchorNode.remove();\n      })\n      .catch((err: any) => {\n        if (err.response) {\n          alert(err.response.data.message)\n        }\n      })\n  )\n}\n\nconst getPokemon = (url: string) => {\n  return (\n    axios\n      .get(url)\n      .then((res: any) => {\n        return res.data\n      })\n      .catch((err: any) => {\n        if (err.response) {\n          alert(err.response.data.message)\n        }\n      })\n  )\n}\n\nexport { getPokemons, getPokemon }"]},"metadata":{},"sourceType":"module"}